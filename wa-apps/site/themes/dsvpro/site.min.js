!function(t,e){"use strict";function a(t){return e(function(){t.init&&t.init()}),t}t.config=e("#config").data(),t.app=a(function(){var a=t.config;return{init:function(){console.log("%s - %s",a.locale.theme,a.themeversion),this.initDataSlider(),this.initLazyLoad(),this.initFlexmenu()},initDataSlider:function(){e.fn.slick&&e(".dataSlider").slick()},initLazyLoad:function(){e.fn.lazyload&&e("img.lazy").lazyload()},initFlexmenu:function(){var t=e(".navbar-flex"),i=a.parenturl+"js/flexmenu.min.js";t.length>0&&t.has("li").length&&e.getScript(i,function(){t.flexMenu({linkText:a.locale.more,linkTitle:a.locale.more,popupClass:"dropdown-menu"})})}}}()),t.modal=a(function(){var a=e("#modal");return{name:"MODAL",loadData:function(t,e){a.find(".modal__template").html(t),"function"!=typeof e&&(e=!1),e&&e()},init:function(){var i=this,n=t.config;e(window).on("productQuickview",function(t,e){i.loadData(e.html,function(){a.hasClass("in")?a.trigger("shown.bs.modal"):a.modal("show"),a.removeClass("loading")})}),a.on("shown.bs.modal",function(){var t=a.find(".modal__content");return t.length?(t.hasClass("quickview")&&e(window).trigger("initProductGallery"),void(t.hasClass("added")&&a.find(".dataSlider:not(.slick-initialized)").slick())):!1}),a.on("hidden.bs.modal",function(){a.find(".slick-slider").each(function(){e(this).slick("unslick")}),a.find(".modal__template").empty()}),e(window).on("productAdded",function(t,o){if("undefinded"===n.cart)return!1;var r=n.cart+"?added="+o.id+"&qty"+o.qty;a.addClass("loading"),e.get(r,function(t){i.loadData(t,function(){a.removeClass("loading"),(a.data("bs.modal")||{}).isShown?a.trigger("shown.bs.modal"):a.modal("show")})})})}}}()),t.adapters=a(function(){var t=function(t){var e=t.closest("li"),i=e.data("provider");if("guest"!=i&&"signup"!=i){var n=(screen.width-600)/2,o=(screen.height-400)/2,r=t.attr("href");"undefined"==typeof require_authorization||require_authorization||(r+="&guest=1"),a(r,"oauth","width=600,height=400,left="+n+",top="+o+",status=no,toolbar=no,menubar=no")}},a=function(t,e,a){window.open(t,e,a)};return{init:function(){e(".auth-type a").on("click",function(){return t(e(this)),!1})}}}()),t.ProductsCookie=function(){var t=function(t){this.cookie=t.cookie,this.id=t.id,this.messages=t.messages,this.active=t.active||"active",this.url=t.url,this.elements=this.getListArray()};return t.prototype={constructor:t,getListArray:function(){var t=e.cookie(this.cookie);return t=t?t.split(","):[]},addItem:function(t){var a=e.inArray(t+"",this.elements);return-1!==a?!1:(this.elements.push(t+""),void this.updateList())},removeItem:function(t){var a=e.inArray(t+"",this.elements);-1!==a&&this.elements.splice(a,1),this.updateList()},proccessItem:function(t){var a=t.data("id"),i="",n="";t.hasClass(this.active)?(this.removeItem(a),i=this.messages.add):(n="js-"+t.data("list")+"-remove",this.addItem(a),i=this.messages.remove,e(window).trigger("messageAdd",{id:a,action:this.messages.addto,target:this.messages.added,"class":n,url:this.url})),e("."+t.data("list")+"[data-id='"+a+"']").toggleClass(this.active).attr("title",i).tooltip("fixTitle"),t.tooltip("show")},resetList:function(){this.elements=[],this.updateList()},updateList:function(){var t=this.elements;t.length>0?e.cookie(this.cookie,t.join(","),{expires:30,path:"/"}):e.removeCookie(this.cookie,{path:"/"})}},t}(),t.Products=function(){var a=e("#config").data(),i=a.locale,n=function(){this.wrapper=e(".productsWrapper"),this.sorting=this.wrapper.find(".sort"),this.productList=this.wrapper.find(".products"),this.bindEvents()};return n.prototype={constructor:n,bindEvents:function(){var n=this,o=n.wrapper,r=new t.ProductsCookie({cookie:"shop_compare",id:"compare",messages:{add:i.compare_add,remove:i.compare_remove,added:i.compare,addto:i.addto},url:a.compare}),s=new t.ProductsCookie({cookie:"shop_wishlist",id:"favourite",messages:{add:i.favourite_add,remove:i.favourite_remove,added:i.favourite,addto:i.addto},url:a.search+"?func=wishlist"}),l=new t.ProductsCookie({cookie:"shop_viewed",id:"viewed"});o.on("submit","form.products__add",function(t){t.preventDefault(),n.onSubmitProduct(e(this))}),e(document).on("click",".products__quickview, .products__sibling",function(){var t=e(this).data("id");e("#modal").hasClass("in")&&e("#modal").addClass("loading"),e.post(e(this).data("url"),function(a){e(window).trigger("productQuickview",{html:a}),e(window).trigger("productView",t)})}),e(document).on("click",".compare",function(){return r.proccessItem(e(this)),e(window).trigger("updateCompare",r.elements.join(",")),!1}),e(document).on("click",".js-compare-remove",function(){r.removeItem(e(this).data("product")),e(window).trigger("updateCompare",r.elements.join(",")),e(this).hasClass("messages__cancel")&&(e(this).closest(".messages__item").remove(),e(".compare[data-id='"+e(this).data("product")+"']").removeClass("active"))}),e(document).on("click",".favorite",function(){return s.proccessItem(e(this)),e(window).trigger("updateFavorite",s.elements.length),!1}),e(document).on("click",".js-favorite-remove",function(){return s.removeItem(e(this).data("product")),e(window).trigger("updateFavorite",s.elements.length),e(this).hasClass("messages__cancel")&&(e(this).closest(".messages__item").remove(),e(".favorite[data-id='"+e(this).data("product")+"']").removeClass("active")),!1}),e(document).on("click",".reset-wishlist",function(){return s.resetList(),location.reload(),!1}),e(document).on("click",".reset-compare",function(){return r.resetList(),location.href=location.href.replace(/compare\/.*/,"compare/"),!1}),e(document).on("click",".reset-viewed",function(){return l.resetList(),location.reload(),!1}),e(document).on("click","a[data-view]",function(){return n.onChangeView(e(this)),!1}),o.on("click","a[data-perpage]",function(){return e(this).closest("li").hasClass("selected")?!1:("all"!==e(this).data("perpage")?(e.cookie("products_per_page",e(this).data("perpage"),{expires:30,path:"/"}),e.cookie("lazyppp",null,{expires:0,path:"/"}),document.location=location.protocol+"//"+location.host+location.pathname):(e.cookie("products_per_page",null,{expires:0,path:"/"}),e.cookie("lazyppp","1",{expires:30,path:"/"}),document.location=e(this).data("href")),!1)}),e(window).on("productView",function(t,e){l.addItem(e)})},onSubmitProduct:function(t){var n=t.closest(".products__item"),o=t.find(".qty__input").val(),r=t.data("url");r?(r=r+"&qty="+o,e.get(r,function(t){e(window).trigger("productQuickview",{html:t})})):e.post(t.attr("action")+"?html=1",t.serialize(),function(o){"ok"==o.status?(e(window).trigger("updateCart",o.data),e(window).trigger("messageAdd",{id:o.data.item_id,action:i.addto,target:i.cart,"class":"js-cart-remove",url:a.cart}),e(window).trigger("productAdded",{id:o.data.item_id,qty:t.find(".qty__input").val()||1}),e(window).trigger("fCart_process",{product_id:n.find("[name='product_id']").val(),sku_id:o.data.item_id})):"fail"==o.status&&alert(o.errors)},"json")},onChangeView:function(t){var a=this,i="active",n=t.hasClass(i),o=a.wrapper.find(".products");n||("list"===t.data("view")?o.removeClass("thumbs stream").addClass("list"):"thumbs"===t.data("view")?o.removeClass("list stream").addClass("thumbs"):o.removeClass("list thumbs").addClass("stream"),e.cookie("product_view",t.data("view"),{expires:30,path:"/"}),a.wrapper.find(".sort__view ."+i).removeClass(i),t.addClass(i))}},n}(),t.mobileMenu=a(function(){var t="#toggleMobileMenu",a="cover",i="is-open",n=function(){e(".mobileMenu").toggleClass(i),e(".wrapper").toggleClass(i),e("."+a).length?e("."+a).remove():e(".wrapper").append("<div class='"+a+"'></div>")};return{name:"MOBILE MENU",init:function(){e(t).click(function(){n()}),e(document).on("click","."+a,function(){n()})}}}()),t.amaMenu=a(function(){var t="#nav-cover",a="#navbar-shadowed",i="is-shown";return{name:"AMA MENU",init:function(){e(a+" .dropdown").hover(function(){e(t).addClass(i)},function(){e(t).removeClass(i)})}}}()),t.counters=a(function(){var a="full",i="is-active",n=null;return{name:"COUNTERS",init:function(){var o=t.config;e(window).on("updateCart",function(t,o){var r=e(".js-cart"),s=e(".js-cart-total"),l=e(".js-cart-count");clearTimeout(n),o.count>0?r.addClass(a):r.removeClass(a),l.each(function(){var t=this;e(t).hasClass("mi-icon-badge")?(e(t).attr("data-badge",o.count).data("badge",o.count).addClass(i),n=setTimeout(function(){e(t).removeClass(i)},500)):e(t).html(o.count)}),s.html(o.total)}),e(window).on("updateCompare",function(t,i){var n=e(".js-compare"),r=e(".js-compare-count"),s=o.compare,l=i?i.split(","):[],d=l.length;d>0?n.addClass(a):n.removeClass(a),s=d>1?s.replace(/compare\/.*$/,"compare/"+i+"/"):"javascript:void(0)",n.attr("href",s),r.html(d)}),e(window).on("updateFavorite",function(t,i){var n=e(".js-favorite"),o=e(".js-favorite-count");i>0?n.addClass(a):n.removeClass(a),o.html(i)})}}}()),t.retina=a(function(){return{name:"RETINA",retinify:function(){e("img.retinify").retina()},init:function(){var a=this,i=t.config,n=i.staticurl+"wa-content/js/jquery-plugins/jquery.retina.min.js?"+i.version;"undefined"!==i.retina&&(e.Retina?a.retinify():e.ajax({dataType:"script",url:n,cache:!0}).done(a.retinify))}}}()),t.filter=a(function(){function t(){var t=i.children().length;t>0?i.closest(".filter__block").removeClass("hidden"):i.closest(".filter__block").addClass("hidden")}var a=parseInt(e(".filter").data("limit"),10)-1,i=e("#filters-active"),n=function(t){for(var a=t.serializeArray(),i=[],n=0;n<a.length;n++)""!==a[n].value&&i.push(a[n].name+"="+a[n].value);var o="?"+i.join("&");e(window).lazyLoad&&e(window).lazyLoad("sleep"),e(".productsWrapper","#product-list").html("<img src='"+t.data("loading")+"'>"),e.get(o+"&_=_",function(t){var a=e("<div></div>").html(t);e.Retina&&e("#product-list img").retina(),e(".productsWrapper","#product-list").html(a.find(".productsWrapper").html()).find("img.lazy"),history.pushState&&void 0!==history.state&&window.history.pushState({},"",o),e(window).lazyLoad&&e(window).lazyLoad("reload"),e(".products__gallery:not(.brazzers-daddy)").brazzersCarousel(),e("img.lazy").lazyload(),e("img.lazy").lazyload({event:"lazyload"})})};return{name:"FILTER",init:function(){t(),e(".filter.ajax form input").change(function(){if(n(e(this).closest("form")),e(this).hasClass("checkbox")){var a=e(this).attr("name"),o=e(this).val(),r=e("label[for='"+e(this).attr("id")+"']").text(),s=i.find("a[data-name='"+a+"'][data-value='"+o+"']");s.length?s.closest("li").remove():i.append("<li><a href='#' data-name="+a+" data-value="+o+" class='filter-active'>"+r+"</a></li>").data({name:a,value:o}),t()}}),e(".filter").on("click",".filter__uncheck",function(){return e("#filters-active").html(""),e(".checkbox",".filter").attr("checked",!1),e("form",".filter").submit(),t(),!1}),e(".filter.ajax form").submit(function(){return n(e(this)),!1}),e(".filter .filter__slider").each(function(){if(!e(this).find(".filter-slider").length){e(this).append("<div class='filter-slider'></div>");var t=e(this).find(".min"),a=e(this).find(".max"),i=parseFloat(t.attr("placeholder")),n=parseFloat(a.attr("placeholder")),o=1,r=e(this).find(".filter-slider");if(r.data("step"))o=parseFloat(r.data("step"));else{var s=n-i;if(Math.round(i)!=i||Math.round(n)!=n){o=s/10;for(var l=0;1>o;)o*=10,l+=1;o=Math.pow(10,-l),l=Math.round(1e5*Math.abs(Math.round(i)-i))/1e5,l&&o>l&&(o=l),l=Math.round(1e5*Math.abs(Math.round(n)-n))/1e5,l&&o>l&&(o=l)}}r.slider({range:!0,min:parseFloat(t.attr("placeholder")),max:parseFloat(a.attr("placeholder")),step:o,values:[parseFloat(t.val().length?t.val():t.attr("placeholder")),parseFloat(a.val().length?a.val():a.attr("placeholder"))],slide:function(i,n){var o=n.values[0]==e(this).slider("option","min")?"":n.values[0];t.val(o),o=n.values[1]==e(this).slider("option","max")?"":n.values[1],a.val(o)},stop:function(){t.change()}}),t.add(a).change(function(){var e=""===t.val()?r.slider("option","min"):parseFloat(t.val()),i=""===a.val()?r.slider("option","max"):parseFloat(a.val());i>=e&&r.slider("option","values",[e,i])})}}),e(".filter").on("click",".filter-active",function(){return e(".filter").find("input[name='"+e(this).data("name")+"'][value='"+e(this).data("value")+"']").attr("checked",!1).change(),e(this).closest("li").remove(),!1}),e(".filter__content",".filter[data-limit]").each(function(){var t=e(this).find(".filter__value:gt("+a+")").detach();t.appendTo(e(this).find(".more-values"))})}}}()),t.filterMobile=a(function(){var t=".filter__show",a=".sbMobile__hide",i="is-open";return{name:"MOBILE FILTER",init:function(){e(t).on("click",function(){return e(".wrapper").toggleClass(i),e(".sidebar").toggleClass(i),e(".collapse",".filter").removeClass("in"),e("a[data-toggle='collapse']",".filter").addClass("collapsed"),!1}),e(a).on("click",function(){return e(".wrapper").removeClass(i),e(".sidebar").removeClass(i),!1})}}}()),t.qty=a(function(){function t(t,e){var a=parseInt(t.val(),10);"function"!=typeof e&&(e=!1),e&&(a=e(a)),t.val(a),o=setTimeout(function(){r=setInterval(function(){e&&(a=e(a)),t.val(a)},75)},500)}function a(){clearTimeout(o),clearInterval(r)}function i(t){return t+=1}function n(t){return 2>t?t:t-=1}var o=null,r=null;return{name:"QUANTITY",init:function(){e(document).on("focusin",".qty__input",function(){e(this).closest(".qty").addClass("is-focus")}),e(document).on("focusout",".qty__input",function(){e(this).closest(".qty").removeClass("is-focus")}),e(document).on("change",".qty__input",function(){var t=e(this);t.val(t.val()>0?t.val():1)}),e(document).on("mousedown",".qty__plus",function(){var a=e(this).prevAll(".qty__input");t(a,i)}),e(document).on("mouseup",".qty__plus",function(){var t=e(this).prevAll(".qty__input");a(),t.focus().change()}),e(document).on("mouseout",".qty__plus",function(){var t=e(this).prevAll(".qty__input");a(),t.change()}),e(document).on("mousedown",".qty__minus",function(){var a=e(this).prevAll(".qty__input");t(a,n)}),e(document).on("mouseup",".qty__minus",function(){var t=e(this).prevAll(".qty__input");a(),t.focus().change()}),e(document).on("mouseout",".qty__minus",function(){var t=e(this).prevAll(".qty__input");a(),t.change()})}}}()),t.search=a(function(){var a=e("#searchWrapper"),i=e(".search-form__collapse"),n=function(){i.html("").hide()};return{name:"AJAX SEARCH",init:function(){var o=t.config;e("#searchAjax").on("keyup",function(){e(this).val().length>4?i.load(o.search+"?query="+encodeURIComponent(e(this).val())+"&autocomplete=1 #searchProducts",function(){i.show()}):n()}),a.on("mouseleave",function(){n()})}}}()),t.shop=function(){return{name:"SHOP",initProductSlider:function(){var t=e("#masterslider");if(!t.length)return!1;var a=t.data();if("off"===a.type)return!1;var i=new MasterSlider;i.control("arrows",{autohide:!1}),i.control("bullets",{autohide:!1,margin:16}),"productslider2"==a.type?i.setup("masterslider",{width:1400,height:500,view:"basic",autoplay:a.autoplay,speed:20,loop:!0,instantStartLayers:!0,overPause:!0,preload:"all"}):"productslider3"==a.type?i.setup("masterslider",{width:1400,height:500,view:"fadeBasic",autoplay:a.autoplay,instantStartLayers:!0,loop:!0,overPause:!0,fillMode:"fill",parallaxMode:"swipe"}):"productslider4"==a.type?i.setup("masterslider",{width:1400,height:500,view:"scale",speed:20,preload:0,loop:!0,instantStartLayers:!0,centerControls:!0,overPause:!0,fillMode:"fill",autoplay:a.autoplay,parallaxMode:"swipe"}):i.setup("masterslider",{width:1400,height:500,view:"basic",autoplay:a.autoplay,speed:20,loop:!0,instantStartLayers:!0,overPause:!0,fillMode:"fit",preload:"all",parallaxMode:"mouse"}),e(document).on("submit","form.slider_add",function(){var t=e(this),a=t.find(".product-url").data("url");return a?e.post(a,function(t){e(window).trigger("productQuickview",{html:t})}):e.post(t.attr("action")+"?html=1",t.serialize(),function(a){"ok"==a.status?(e(window).trigger("updateCart",a.data),e(window).trigger("productAdded",{id:a.data.item_id,qty:t.find(".qty__input").val()||1})):"fail"==a.status&&alert(a.errors)},"json"),!1})},init:function(){if(e("a[data-crcy]").click(function(){if(e(this).hasClass("active"))return!1;var t=location.href;t+=-1==t.indexOf("?")?"?":"&",location.href=t+"currency="+e(this).data("crcy")}),e(".radio",".sbSort").change(function(){e("a[data-name='"+this.value+"']",".sort__type").click()}),e(".products__gallery").brazzersCarousel(),e("img.lazy").lazyload({event:"lazyload"}),e.fn.lazyLoad){var t=e(".lazyloading-paging");if(!t.length)return;var a=parseInt(t.data("times"),10),i=t.data("linkText")||"Load more",n=t.data("loading-str")||"Loading...",o=t.find("li.selected");if("1"!=o.children("a").text())return;t.hide();var r=e(window);r.lazyLoad("stop");var s=o.next();s.length&&r.lazyLoad({container:"#product-list .products",load:function(){r.lazyLoad("sleep");var t=e(".lazyloading-paging").hide(),o=t.find("li.selected"),s=o.next(),l=s.find("a").attr("href");if(!l)return void r.lazyLoad("stop");var d=e("#product-list .products"),c=t.parent().find(".loading").parent();c.length||(c=e("<div><i class='icon16 loading'></i>"+n+"</div>").insertBefore(t)),c.show(),e.get(l,function(n){var o=e("<div></div>").html(n);e.Retina&&o.find("#product-list .products img").retina(),d.append(o.find("#product-list .products").children());var s=o.find(".lazyloading-paging").hide();t.replaceWith(s),t=s,a-=1;var l=t.find("li.selected"),u=l.next();u.length?!isNaN(a)&&0>=a?(r.lazyLoad("sleep"),e(".lazyloading-load-more").length||e("<a href='#' class='lazyloading-load-more'>"+i+"</a>").insertAfter(t).click(function(){return c.show(),a=1,r.lazyLoad("wake"),r.lazyLoad("force"),!1})):r.lazyLoad("wake"):(r.lazyLoad("stop"),e(".lazyloading-load-more").hide()),c.hide(),o.remove(),e(".products__gallery:not(.brazzers-daddy)").brazzersCarousel(),e("img.lazy").lazyload({event:"lazyload"})})}})}var l=e("#subcatsToggle");e("#subcatsCollapse").on("hidden.bs.collapse",function(){l.html(l.data("shown"))}).on("shown.bs.collapse",function(){l.html(l.data("hidden"))})}}}(),e(function(){e(".tooltip-top").tooltip({container:"body"}),e(".tooltip-bottom").tooltip({container:"body",placement:"bottom"}),e(".tooltip-left").tooltip({container:"body",placement:"left"}),e(".tooltip-right").tooltip({container:"body",placement:"right"}),e(".scroll-to").on("click",function(){var t=e(this).data("target");if("undefined"===t||!e(t).length)return!1;var a=e(t).offset().top;return e("html, body").animate({scrollTop:a},400),!1}),e(".demo__switch, #demo_overlay").on("click",function(){return e("#demo").toggleClass("demo-open"),e("#demo_overlay").toggleClass("demo-open"),!1}),e("a[data-setting]").on("click",function(){e("a[data-setting='"+e(this).data("setting")+"']").removeClass("active"),e(this).addClass("active"),e.cookie(e(this).data("setting"),e(this).data("value"),{expires:1,path:"/"}),location.reload()}),e("#sales").on("hidden.bs.collapse",function(){e.cookie("sales",1,{expires:7,path:"/"})});var t=0;e(window).scroll(function(){var a=e(this).scrollTop();a>t?e("#headerMobile").removeClass("affix"):e("#headerMobile").addClass("affix"),t=a}),e("#mailer-subscribe-form input.charset").val(document.charset||document.characterSet),e("#mailer-subscribe-form").submit(function(){var t=e(this),a=t.find(".form-control"),i=t.find('input[type="submit"]');return a.val()?(a.removeClass("error"),i.hide(),a.after('<i class="spinner"></i>'),void e("#mailer-subscribe-iframe").load(function(){e("#mailer-subscribe-form").hide(),e("#mailer-subscribe-iframe").hide(),e("#mailer-subscribe-thankyou").show()})):(a.addClass("error"),!1)})})}(window.WA_THEME=window.WA_THEME||{},jQuery);var fMessages=function(t){function e(t){var e="undefined"!=typeof t.url?t.url:"javascript:void(0)";return"<div class='messages__item'>"+t.action+" <a href='"+e+"' class='messages__link'>"+t.target+"</a><a href='#' class='messages__cancel'>"+i.data("cancel")+"</a></div>"}var a,i=t("#messages"),n=null,o=t("#config").data();return{init:function(){if(0==i.length)return!1;var r=this;t(window).on("messageAdd",function(o,s){"js-compare-remove"==s["class"]&&t(".js-compare").length&&(s.url=t(".js-compare").attr("href"));var l=e(s);a=t(l).prependTo(i),a.find(".messages__cancel").data("product",s.id).attr("data-product",s.id).addClass(s["class"]),clearTimeout(n),r.showContainer(),n=setTimeout(function(){r.hideContainer()},3e3)}),i.on("click",".js-cart-remove",function(){var e=t(this).closest(".messages__item"),a=t(this).data("id");return t.post(o.cart+"delete/",{html:1,id:a},function(a){"ok"===a.status&&(t(window).trigger("updateCart",a.data),e.remove())},"json"),!1}),i.hover(function(){clearTimeout(n)},function(){n=setTimeout(function(){r.hideContainer()},3e3)})},hideContainer:function(){i.removeClass("is-open"),i.html("")},showContainer:function(){i.addClass("is-open")}}}(jQuery),fCart=function(t){var e,a=t(".flyingCart"),i=t("#config").data();return{init:function(){if(0==a.length)return!1;var e=this,n=a.closest("li");n.hover(function(){e.show_fCart()},function(){e.hide_fCart()}),a.on("click",".flyingCart__delete",function(){var n=t(this).closest(".row").data("skuid");return t.post(i.cart+"delete/",{html:1,id:n},function(i){"ok"===i.status&&(e.remove_fCart_item(n),t(window).trigger("updateCart",i.data),0==i.data.count&&a.fadeOut().addClass("is-empty"))},"json"),!1}),t(window).on("fCart_process",function(n,o){if("undefinded"===i.cart)return!1;var r=t(".js-product-data[data-id='"+o.product_id+"']").data(),s=a.find(".row[data-skuid='"+o.sku_id+"']"),l=parseInt(o.qty,10)||1;s.length?e.update_fCart_item(s,parseInt(r.price,10),l):(r.sku_id=o.sku_id,e.add_fCart_item(r,l))})},show_fCart:function(){return a.hasClass("is-empty")?!1:(clearTimeout(e),a.is(":animated")?!1:void a.fadeIn())},hide_fCart:function(){e=setTimeout(function(){a.fadeOut()},1e3)},add_fCart_item:function(e,i){var n=t("#flying_cart_template .row").clone();n.data("skuid",e.sku_id).attr("data-skuid",e.sku_id).find("img").attr({src:e.image96,alt:e.name}).end().find(".flyingCart__name").html(e.name).end().find(".flyingCart__price").html(this.currency_format(e.price*i,1,WA_THEME.currency)).end().find(".flyingCart__count").html(i).end(),a.removeClass("is-empty").find(".flyingCart__content").prepend(n)},remove_fCart_item:function(t){var e=a.find(".row[data-skuid='"+t+"']");e.animate({opacity:0},"slow",function(){e.remove()})},update_fCart_item:function(t,e,a){var i=t.find(".flyingCart__count");i.html(parseInt(i.html(),10)+a),t.find(".flyingCart__price").html(this.currency_format(parseInt(i.html(),10)*e,1,WA_THEME.currency))},currency_format:function(t,e,a){var i,n,o,r,s,l=a.frac_digits,d=a.decimal_point,c=a.thousands_sep;isNaN(l=Math.abs(l))&&(l=2),void 0==d&&(d=","),void 0==c&&(c="."),i=parseInt(t=(+t||0).toFixed(l))+"",(n=i.length)>3?n%=3:n=0,s=n?i.substr(0,n)+c:"",o=i.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+c),r=l&&t-i?d+Math.abs(t-i).toFixed(l).replace(/-/,0).slice(2):"";var t=s+o+r,u=1!=e?a.sign:a.sign_html;return a.sign_position?t+a.sign_delim+u:u+a.sign_delim+t}}}(jQuery),pcHeader=function(t){function e(){t(".navbar-categories .dropdown-menu, .sbNav .dropdown-menu").each(function(){t(this).removeClass("drowdown-menu-reversed"),t(this).offset().left+t(this).outerWidth()>t(window).width()&&t(this).addClass("drowdown-menu-reversed")})}var a,i=992;return{init:function(){var n=t(window);return n.width()<i?!1:(e(),void t(window).on("resize",function(){clearTimeout(a),a=setTimeout(function(){e()},100)}))}}}(jQuery);$(document).ready(function(){fMessages.init(),fCart.init(),pcHeader.init()});